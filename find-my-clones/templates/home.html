<html>
<head>
    <!-- my hate towards guis is unconditional. @aigonewrong -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7CPFCX83C9"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-7CPFCX83C9');
    </script>
</head>
<body>
    <h3>welcome to `find-my-clones` page!</h3>
    this application allows you to query accounts containing your twitter name, and returns accounts with similar profile pic (corr coef > 0.6).
    <h4>enter your twitter handle below:</h4>    
    <label for="screen_name">twitter handle: @</label>
    <input type="text">
    <button type="submit" value="Submit" onclick=submitData()>Submit</button>
    <br>+ if your handle is "@elonmusk", then enter "elonmusk", and click "Submit".
    <br>+ query time should take no longer than 5 seconds.
    <hr>
    <p>raw results:</p>
    <div id="queryResults"></div>
    <hr>
    <a href="https://twitter.com/aigonewrong">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg></a>
    <a href="https://github.com/pangyuteng/twitter-crypto-scam-detector">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-4.466 19.59c-.405.078-.534-.171-.534-.384v-2.195c0-.747-.262-1.233-.55-1.481 1.782-.198 3.654-.875 3.654-3.947 0-.874-.312-1.588-.823-2.147.082-.202.356-1.016-.079-2.117 0 0-.671-.215-2.198.82-.64-.18-1.324-.267-2.004-.271-.68.003-1.364.091-2.003.269-1.528-1.035-2.2-.82-2.2-.82-.434 1.102-.16 1.915-.077 2.118-.512.56-.824 1.273-.824 2.147 0 3.064 1.867 3.751 3.645 3.954-.229.2-.436.552-.508 1.07-.457.204-1.614.557-2.328-.666 0 0-.423-.768-1.227-.825 0 0-.78-.01-.055.487 0 0 .525.246.889 1.17 0 0 .463 1.428 2.688.944v1.489c0 .211-.129.459-.528.385-3.18-1.057-5.472-4.056-5.472-7.59 0-4.419 3.582-8 8-8s8 3.581 8 8c0 3.533-2.289 6.531-5.466 7.59z"/></svg></a>
    <br>
    <script>
    fillwithtext('queryResults',"na");
    function submitData(){
        const form = document.querySelector("form")
        const input = document.querySelector("input")
        console.log('querying...')
        axios.get('{{root_url}}/find-my-clones/v1/query_clones', {
            params: { screen_name: input.value}
        })
        .then(function (response) {
          //handle success
          console.log('success!');
          console.log(response.status);
          console.log(response.data);
          var myLength = Object.keys(response.data).length;
          currentdate = new Date();
          fillwithtext('queryResults',"<pre>"+JSON.stringify(response.data,null, 2)+"</pre>");
        })
        .catch(function (response) {
          //handle error
          console.log('error!');
          console.log(response.status);
          fillwithtext('queryResults','unexpected error occured!');
        });
    }
    function fillwithtext(elementID,text) {
        document.getElementById(elementID).innerHTML = text;
    }
    </script>
</body>
</html>